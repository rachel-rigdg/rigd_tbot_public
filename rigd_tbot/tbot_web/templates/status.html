<!-- tbot_web/templates/status.html -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>TradeBot Status Dashboard</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/base/normalize.css">
        <link rel="stylesheet" href="/static/css/base/layout.css">
        <link rel="stylesheet" href="/static/css/shared/forms.css">
        <link rel="stylesheet" href="/static/css/components/buttons.css">
        <link rel="stylesheet" href="/static/css/pages/status.css">
    </head>
<body>
    <div class="main-container">
        <div style="width:70%; margin-left:auto; margin-right:auto;">
            <h1>TradeBot Status</h1>

            {% if status.error %}
                <p class="error">{{ status.error }}</p>
            {% else %}
                <div class="status-grid">
                    <div><strong>Timestamp:</strong> {{ status.timestamp }}</div>
                    <div><strong>Bot State:</strong> {{ status.state }}</div>
                    <div><strong>Active Strategy:</strong> {{ status.active_strategy }}</div>
                    <div><strong>Trade Count:</strong> {{ status.trade_count }}</div>
                    <div><strong>Win Trades:</strong> {{ status.win_trades }}</div>
                    <div><strong>Loss Trades:</strong> {{ status.loss_trades }}</div>
                    <div><strong>Win Rate:</strong> {{ status.win_rate }}%</div>
                    <div><strong>PnL:</strong> {{ status.pnl }}</div>
                    <div><strong>Error Count:</strong> {{ status.error_count }}</div>
                    <div><strong>Version:</strong> {{ status.version }}</div>
                    <div><strong>Running State:</strong> 
                        {% if status.state == "running" %}
                            <span style="color:green;font-weight:bold;">RUNNING</span>
                        {% elif status.state == "idle" %}
                            <span style="color:orange;font-weight:bold;">IDLE</span>
                        {% else %}
                            <span style="color:gray;">{{ status.state }}</span>
                        {% endif %}
                    </div>
                </div>
                <hr>
                <h2>Strategy Toggles</h2>
                <div class="status-grid">
                    <div><strong>Open:</strong> {{ status.enabled_strategies.open }}</div>
                    <div><strong>Mid:</strong> {{ status.enabled_strategies.mid }}</div>
                    <div><strong>Close:</strong> {{ status.enabled_strategies.close }}</div>
                </div>
                <hr>
                <h2>Risk Controls</h2>
                <div class="status-grid">
                    <div><strong>Max Risk per Trade:</strong> {{ status.max_risk_per_trade }}</div>
                    <div><strong>Daily Loss Limit:</strong> {{ status.daily_loss_limit }}</div>
                </div>
            {% endif %}
        </div>
    </div>
</body>
</html>
