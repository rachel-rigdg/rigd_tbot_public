

Overall Directory Structure Diagram


TradeBot-001/
â”œâ”€â”€ .env                                  # ğŸŒ Web/API config â€“ non-trading settings
â”œâ”€â”€ .scpignore                            # ğŸ”’ Prevents local key/secrets upload
â”œâ”€â”€ encrypt_password.py                   # ğŸ” Encrypts API/login credentials
â”œâ”€â”€ generate_key.py                       # ğŸ” Generates encryption key for securing .env_bot
â”œâ”€â”€ requirements.txt                      # ğŸ“¦ Python package list for bot, web, broker APIs, GnuCash

â”œâ”€â”€ tbot_api/                             # ğŸ§© Optional: FastAPI control server (start/stop/view bot remotely)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ env_api.py                        # Loads web-level .env values
â”‚   â”œâ”€â”€ logs_api.py                       # Logs API events, errors, access
â”‚   â”œâ”€â”€ main_api.py                       # FastAPI controller: start/stop/settings/status
â”‚   â”œâ”€â”€ auth.py                           # API login encryption/authentication

â”œâ”€â”€ tbot_bot/                             # ğŸ§  Main autonomous trading engine (fully independent)
â”‚   â”œâ”€â”€ .env_bot                          # ğŸ›ï¸ Strategy, broker, risk, GnuCash export, safety settings
â”‚   â”œâ”€â”€ env_bot.py                        # Safely loads .env_bot for runtime modules
â”‚   â”œâ”€â”€ main_bot.py                       # Orchestrates all strategy logic, risk checks, trade lifecycles
â”‚   â”œâ”€â”€ start_bot.py / stop_bot.py        # CLI/API controls to launch/exit bot processes
â”‚   â”œâ”€â”€ service_bot.py                    # Optional process manager (cron/systemd use)
â”‚   â”œâ”€â”€ status_bot.py                     # Returns current run status, strategy, risk status
â”‚   â”œâ”€â”€ settings_bot.py                   # Interface for modifying .env_bot
â”‚   â”œâ”€â”€ logs_bot.py                       # Logs everything: trades, exits, errors, drawdowns
â”‚   â”œâ”€â”€ notifier_bot.py                   # Sends alert emails/slack on fills, triggers, crashes

â”‚   â”œâ”€â”€ kill_switch.py                    # ğŸ”¥ Triggers auto-exit on drawdown breach or global error
â”‚   â”œâ”€â”€ watchdog_bot.py                   # ğŸ§¯ Monitors APIs for disconnects; halts or retries as needed
â”‚   â”œâ”€â”€ security_bot.py                   # ğŸ” Encrypts/decrypts sensitive `.env_bot` keys at rest

â”‚   â”œâ”€â”€ broker_api.py                     # Routes order logic to correct broker
â”‚   â”œâ”€â”€ broker_robinhood.py              # Robinhood logic (unofficial, U.S. sandbox)
â”‚   â”œâ”€â”€ broker_webull.py                 # Webull logic (unofficial, stable test fills)
â”‚   â”œâ”€â”€ broker_tastytrade.py             # Tastytrade API client (U.S. options-ready)
â”‚   â”œâ”€â”€ broker_ibkr.py                   # IBKR API client (live + paper, global-ready)
â”‚   â”œâ”€â”€ orders_bot.py                     # Submits/cancels/manages trade lifecycle
â”‚   â”œâ”€â”€ reporting_bot.py                  # Finalizes trades, triggers export, logs to ledger
â”‚   â”œâ”€â”€ risk_bot.py                       # Calculates capital per trade (2â€“3% limit enforced)
â”‚   â”œâ”€â”€ utils_bot.py                      # Shared helpers (time, format, rounding, etc.)

â”‚   â”œâ”€â”€ finnhub_screener.py               # Pulls/sorts stock candidates from Finnhub
â”‚   â”œâ”€â”€ strategy_router.py                # â±ï¸ Chooses active strategy by time/override
â”‚   â”œâ”€â”€ strategy_open.py                  # 9:30â€“10:20 AM breakout logic
â”‚   â”œâ”€â”€ strategy_mid.py                   # 10:30â€“2:30 PM VWAP mean reversion
â”‚   â”œâ”€â”€ strategy_close.py                 # 2:30â€“4:00 PM trend/fade strategy
â”‚   â”œâ”€â”€ strategy_meta.py                  # Stores config: R:R, filters, logic toggles

â”‚   â”œâ”€â”€ gnu_paper.gnucash                 # ğŸ“˜ Paper-mode ledger (TEST_MODE only)
â”‚   â”œâ”€â”€ gnu_live.gnucash                  # ğŸ“— Live-mode ledger (real trades)
â”‚   â”œâ”€â”€ gnu_exporter.py                   # ğŸ” Auto-converts trade log into GnuCash format
â”‚   â”œâ”€â”€ gnu_transaction.py                # ğŸ§± Builds compliant XML ledger entries
â”‚   â”œâ”€â”€ gnu_config.py                     # ğŸ§¾ Defines GnuCash account structure: assets/income categories
â”‚   â”œâ”€â”€ gnu_backup.py                     # ğŸ“‚ Creates timestamped backup of .gnucash files before writing
â”‚   â”œâ”€â”€ trade_history.csv                 # Full log of all trades (strategy, broker, live/paper, P/L)
â”‚   â”œâ”€â”€ unresolved_orders.log             # Flags partial fills, rejected orders, or API errors

â”‚   â”œâ”€â”€ enhancements/                     # ğŸ”§ Optional strategy upgrades (enabled via .env_bot)
â”‚   â”‚   â”œâ”€â”€ adx_filter.py                # Avoids mean reversion during strong trends
â”‚   â”‚   â”œâ”€â”€ bollinger_confluence.py     # Adds BBand confluence to VWAP triggers
â”‚   â”‚   â”œâ”€â”€ vix_gatekeeper.py           # Restricts EOD trading under low-volatility conditions
â”‚   â”‚   â”œâ”€â”€ imbalance_scanner_ibkr.py   # Detects institutional buy/sell pressure before close
â”‚   â”‚   â”œâ”€â”€ ticker_blocklist.py         # Prevents retargeting stocks already traded that day

â”œâ”€â”€ tbot_web/                             # ğŸ–¥ï¸ Optional web UI interface for remote control
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â”œâ”€â”€ fnt/
â”‚   â”‚   â””â”€â”€ css/
â”‚   â”‚       â”œâ”€â”€ main.css
â”‚   â”‚       â””â”€â”€ theme.css
â”‚   â”œâ”€â”€ favicon.ico / .gif                # Browser icons
â”‚   â”œâ”€â”€ index.html                        # Login screen
â”‚   â”œâ”€â”€ main.html                         # Dashboard iframe layout
â”‚   â”œâ”€â”€ logs.html                         # Log viewer
â”‚   â”œâ”€â”€ settings.html                     # Edit .env_bot vars from browser
â”‚   â”œâ”€â”€ status.html                       # Live view: running strategy, risk, trade status
â”‚   â”œâ”€â”€ robots.txt                        # Prevent indexing
â”‚   â”œâ”€â”€ py/
â”‚   â”‚   â”œâ”€â”€ login_web.py
â”‚   â”‚   â”œâ”€â”€ main_web.py
â”‚   â”‚   â”œâ”€â”€ logs_web.py
â”‚   â”‚   â”œâ”€â”€ start_stop_web.py
â”‚   â”‚   â”œâ”€â”€ status_web.py
