

Overall Directory Structure Diagram


TradeBot-001/
â”œâ”€â”€ .env                                  # Global .env for FastAPI or deployment config (does not include trading variables)
â”œâ”€â”€ .scpignore                            # Prevents local dev files (keys, backups) from being uploaded to server
â”œâ”€â”€ encrypt_password.py                   # CLI utility to encrypt web/API passwords (used by tbot_api/auth.py)
â”œâ”€â”€ generate_key.py                       # Generates AES encryption key used to secure password storage
â”œâ”€â”€ requirements.txt                      # Full dependency list for bot, broker APIs, GnuCash XML handling, and FastAPI

â”œâ”€â”€ tbot_api/                             # ğŸŒ Optional FastAPI interface to control the bot remotely (start, stop, settings)
â”‚   â”œâ”€â”€ __init__.py                       # Marks this directory as a Python module for clean imports
â”‚   â”œâ”€â”€ env_api.py                        # Loads global .env config for use in API (not trading logic)
â”‚   â”œâ”€â”€ logs_api.py                       # Tracks API-side logs: settings changes, login attempts, start/stop commands
â”‚   â”œâ”€â”€ main_api.py                       # Defines FastAPI routes for web control (start/stop, status, etc.)
â”‚   â”œâ”€â”€ auth.py                           # Handles encrypted login authentication for the web interface

â”œâ”€â”€ tbot_bot/                             # ğŸ§  Primary logic engine for live/paper trading, strategy switching, and broker execution
â”‚   â”œâ”€â”€ .env_bot                          # Core config file for trading: strategy toggles, API keys, risk settings, export flags
â”‚   â”œâ”€â”€ env_bot.py                        # Loads .env_bot values, enforces types and structure for all modules
â”‚   â”œâ”€â”€ main_bot.py                       # Master controller: handles strategy selection, runtime lifecycle, monitoring
â”‚   â”œâ”€â”€ start_bot.py                      # CLI or web-triggered entry point to start the bot loop
â”‚   â”œâ”€â”€ stop_bot.py                       # Cleanly shuts down the bot and exits any open positions
â”‚   â”œâ”€â”€ service_bot.py                    # Optional: enables persistent running via cron or system supervisor
â”‚   â”œâ”€â”€ status_bot.py                     # Reports runtime state: idle, analyzing, trading, complete, error
â”‚   â”œâ”€â”€ settings_bot.py                   # Allows programmatic updates to .env_bot without overwriting file manually
â”‚   â”œâ”€â”€ logs_bot.py                       # Logs bot events: trades placed, fills, exits, errors, runtime messages
â”‚   â”œâ”€â”€ notifier_bot.py                   # Sends notifications (email, Slack, etc.) when trades are executed or bot crashes

â”‚   â”œâ”€â”€ kill_switch.py                    # Stops all trading and exits all positions if drawdown exceeds DAILY_LOSS_LIMIT
â”‚   â”œâ”€â”€ watchdog_bot.py                   # Monitors broker API + network connectivity; retries or halts on error
â”‚   â”œâ”€â”€ security_bot.py                   # Encrypts/decrypts .env_bot values for secure local storage

â”‚   â”œâ”€â”€ broker_api.py                     # Unified interface to route orders to selected broker module based on config
â”‚   â”œâ”€â”€ broker_robinhood.py              # Robinhood-specific logic (unofficial API, test-only, U.S. sandbox use)
â”‚   â”œâ”€â”€ broker_webull.py                 # Webull-specific logic (unofficial API, low-cost test fills)
â”‚   â”œâ”€â”€ broker_tastytrade.py             # Tastytrade official API client (for U.S. live/options trading)
â”‚   â”œâ”€â”€ broker_ibkr.py                   # IBKR official API integration for live or paper global trading
â”‚   â”œâ”€â”€ orders_bot.py                     # Manages order submission, modification, cancellation, and verification
â”‚   â”œâ”€â”€ reporting_bot.py                  # Finalizes trade logs and triggers export to GnuCash or CSV
â”‚   â”œâ”€â”€ risk_bot.py                       # Calculates risk per trade; ensures total capital exposure stays within 2â€“3%
â”‚   â”œâ”€â”€ utils_bot.py                      # Utility functions (timestamping, currency rounding, string formatting)

â”‚   â”œâ”€â”€ finnhub_screener.py               # Connects to Finnhub API, scans top stock candidates based on criteria
â”‚   â”œâ”€â”€ strategy_router.py                # Routes to the correct strategy module based on time of day or manual override
â”‚   â”œâ”€â”€ strategy_open.py                  # Implements 20-minute breakout strategy (9:30â€“10:20 AM)
â”‚   â”œâ”€â”€ strategy_mid.py                   # Implements VWAP mean reversion strategy (10:30â€“2:30 PM)
â”‚   â”œâ”€â”€ strategy_close.py                 # Implements end-of-day momentum or fade strategy (2:30â€“4:00 PM)
â”‚   â”œâ”€â”€ strategy_meta.py                  # Central repository for thresholds, toggles, filters per strategy

â”‚   â”œâ”€â”€ gnu_paper.gnucash                 # GnuCash XML ledger file for paper-mode trades only
â”‚   â”œâ”€â”€ gnu_live.gnucash                  # GnuCash XML ledger file for live-mode trades only
â”‚   â”œâ”€â”€ gnu_exporter.py                   # Converts completed trades into GnuCash-compliant XML transactions and inserts into correct ledger
â”‚   â”œâ”€â”€ gnu_transaction.py                # Builds XML elements for GnuCash: accounts, splits, entries, metadata
â”‚   â”œâ”€â”€ gnu_config.py                     # Defines GnuCash account structure: Assets, Equity, Income, and Expense categories
â”‚   â”œâ”€â”€ gnu_backup.py                     # Automatically backs up ledger before writing new transactions
â”‚   â”œâ”€â”€ trade_history.csv                 # Full exportable log of every trade (live or paper), including ID, strategy, result, timestamps
â”‚   â”œâ”€â”€ unresolved_orders.log             # Logs any trades that failed, filled partially, or experienced API-side issues

â”‚   â”œâ”€â”€ enhancements/                     # Optional add-ons for higher accuracy or conditional filtering
â”‚   â”‚   â”œâ”€â”€ adx_filter.py                # Skips VWAP reversion if ADX indicates a strong trend
â”‚   â”‚   â”œâ”€â”€ bollinger_confluence.py     # Confirms mean reversion using Bollinger Band extremes
â”‚   â”‚   â”œâ”€â”€ vix_gatekeeper.py           # Disables EOD strategy if VIX (market volatility index) is too low
â”‚   â”‚   â”œâ”€â”€ imbalance_scanner_ibkr.py   # Scans IBKR order book for late-day imbalance pressure
â”‚   â”‚   â”œâ”€â”€ ticker_blocklist.py         # Prevents re-trading the same ticker more than once per day

â”œâ”€â”€ tbot_web/                             # Web dashboard for remote bot control and status viewing
â”‚   â”œâ”€â”€ assets/                           # Static UI resources
â”‚   â”‚   â”œâ”€â”€ fnt/                          # Fonts used by frontend
â”‚   â”‚   â””â”€â”€ css/                          # Styling for frontend
â”‚   â”‚       â”œâ”€â”€ main.css                 # Base layout and component styling
â”‚   â”‚       â””â”€â”€ theme.css                # Optional dark/light theme overrides
â”‚   â”œâ”€â”€ favicon.ico / favicon.gif         # Web browser icons
â”‚   â”œâ”€â”€ index.html                        # Login interface for web control (uses auth from API)
â”‚   â”œâ”€â”€ main.html                         # Dashboard container layout
â”‚   â”œâ”€â”€ logs.html                         # UI view to show trade logs and bot activity
â”‚   â”œâ”€â”€ settings.html                     # Interface to adjust .env_bot values
â”‚   â”œâ”€â”€ status.html                       # Displays bot status (active strategy, uptime, trades placed)
â”‚   â”œâ”€â”€ robots.txt                        # Prevents search engine indexing of web interface
â”‚   â”œâ”€â”€ py/                               # Backend Python scripts used by the frontend
â”‚   â”‚   â”œâ”€â”€ login_web.py                 # Handles login request from UI to API
â”‚   â”‚   â”œâ”€â”€ main_web.py                  # Router for frontend page loads
â”‚   â”‚   â”œâ”€â”€ logs_web.py                  # Pulls logs from disk or DB and feeds logs.html
â”‚   â”‚   â”œâ”€â”€ start_stop_web.py           # Launches or halts bot from dashboard
â”‚   â”‚   â”œâ”€â”€ status_web.py               # Returns live runtime state for display in status.html
